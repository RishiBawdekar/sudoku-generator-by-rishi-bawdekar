<!DOCTYPE html>
<html lang="en-us">

<head>

	<meta charset="UTF-8">
        <link href='https://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script src="setOps.js"></script>
	<link rel="shortcut icon" type="image/png" href="favicon.png">
	<title>Sudoku Generator by Rishi Bawdekar</title>
	<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css">
	<link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
	<script src="jspdf.min.js"></script>
	<script src="jspdf.plugin.autotable.js"></script>

</head>

<body>
	
		<div id="bottom">
	
	<div id="botleft">
	<br></br>
		<table border="2" style="border-collapse: collapse;" id="table">
			<tr>
				<td contenteditable='true' tabindex = 1></td>
				<td contenteditable='true' tabindex = 1></td>
				<td contenteditable='true' tabindex = 1></td>
				<td contenteditable='true' tabindex = 4 class="side-border"></td>
				<td contenteditable='true' tabindex = 4></td>
				<td contenteditable='true' tabindex = 4></td>
				<td contenteditable='true' tabindex = 7 class="side-border"></td>
				<td contenteditable='true' tabindex = 7></td>
				<td contenteditable='true' tabindex = 7></td>
			</tr>
			<tr>
				<td contenteditable='true' tabindex = 1></td>
				<td contenteditable='true' tabindex = 1></td>
				<td contenteditable='true' tabindex = 1></td>
				<td contenteditable='true' tabindex = 4 class="side-border"></td>
				<td contenteditable='true' tabindex = 4></td>
				<td contenteditable='true' tabindex = 4></td>
				<td contenteditable='true' tabindex = 7 class="side-border"></td>
				<td contenteditable='true' tabindex = 7></td>
				<td contenteditable='true' tabindex = 7></td>
			</tr>
			<tr class="border-bottom">
				<td contenteditable='true' tabindex = 1></td>
				<td contenteditable='true' tabindex = 1></td>
				<td contenteditable='true' tabindex = 1></td>
				<td contenteditable='true' tabindex = 4 class="side-border"></td>
				<td contenteditable='true' tabindex = 4></td>
				<td contenteditable='true' tabindex = 4></td>
				<td contenteditable='true' tabindex = 7 class="side-border"></td>
				<td contenteditable='true' tabindex = 7></td>
				<td contenteditable='true' tabindex = 7></td>
			</tr>
			<tr>
				<td contenteditable='true' tabindex = 2></td>
				<td contenteditable='true' tabindex = 2></td>
				<td contenteditable='true' tabindex = 2></td>
				<td contenteditable='true' tabindex = 5 class="side-border"></td>
				<td contenteditable='true' tabindex = 5></td>
				<td contenteditable='true' tabindex = 5></td>
				<td contenteditable='true' tabindex = 8 class="side-border"></td>
				<td contenteditable='true' tabindex = 8></td>
				<td contenteditable='true' tabindex = 8></td>
			</tr>
			<tr>
				<td contenteditable='true' tabindex = 2></td>
				<td contenteditable='true' tabindex = 2></td>
				<td contenteditable='true' tabindex = 2></td>
				<td contenteditable='true' tabindex = 5 class="side-border"></td>
				<td contenteditable='true' tabindex = 5></td>
				<td contenteditable='true' tabindex = 5></td>
				<td contenteditable='true' tabindex = 8 class="side-border"></td>
				<td contenteditable='true' tabindex = 8></td>
				<td contenteditable='true' tabindex = 8></td>
			</tr>
			<tr class="border-bottom">
				<td contenteditable='true' tabindex = 2></td>
				<td contenteditable='true' tabindex = 2></td>
				<td contenteditable='true' tabindex = 2></td>
				<td contenteditable='true' tabindex = 5 class="side-border"></td>
				<td contenteditable='true' tabindex = 5></td>
				<td contenteditable='true' tabindex = 5></td>
				<td contenteditable='true' tabindex = 8 class="side-border"></td>
				<td contenteditable='true' tabindex = 8></td>
				<td contenteditable='true' tabindex = 8></td>
			</tr>
			<tr>
				<td contenteditable='true' tabindex = 3></td>
				<td contenteditable='true' tabindex = 3></td>
				<td contenteditable='true' tabindex = 3></td>
				<td contenteditable='true' tabindex = 6 class="side-border"></td>
				<td contenteditable='true' tabindex = 6></td>
				<td contenteditable='true' tabindex = 6></td>
				<td contenteditable='true' tabindex = 9 class="side-border"></td>
				<td contenteditable='true' tabindex = 9></td>
				<td contenteditable='true' tabindex = 9></td>
			</tr>
			<tr>
				<td contenteditable='true' tabindex = 3></td>
				<td contenteditable='true' tabindex = 3></td>
				<td contenteditable='true' tabindex = 3></td>
				<td contenteditable='true' tabindex = 6 class="side-border"></td>
				<td contenteditable='true' tabindex = 6></td>
				<td contenteditable='true' tabindex = 6></td>
				<td contenteditable='true' tabindex = 9 class="side-border"></td>
				<td contenteditable='true' tabindex = 9></td>
				<td contenteditable='true' tabindex = 9></td>
			</tr>
			<tr>
				<td contenteditable='true' tabindex = 3></td>
				<td contenteditable='true' tabindex = 3></td>
				<td contenteditable='true' tabindex = 3></td>
				<td contenteditable='true' tabindex = 6 class="side-border"></td>
				<td contenteditable='true' tabindex = 6></td>
				<td contenteditable='true' tabindex = 6></td>
				<td contenteditable='true' tabindex = 9 class="side-border"></td>
				<td contenteditable='true' tabindex = 9></td>
				<td contenteditable='true' tabindex = 9></td>
			</tr>
		</table>
		<br></br>
		<label for="clueL"> Number of clues: <input type="number" name="cluei" id = "clueid"/></label>
		<br></br>
		<form>
			<button type="button" id="genS" onclick="Gen_Sudoku()">Generate Sudoku</button>
			<button type="button" id="printS" onclick="PDF_Sudoku()">Save Sudoku</button>
			<button type="button" id="solveS" onclick="Redirect()">Open Solver</button>
		</form>
		<br>
		<div>Enter number of clues (given numbers) and press "Generate Sudoku".</div>
		<br>
		<div id="timemsg"></div>

	</div>
	
	</div>


	
</body>

<script type="text/javascript">

var allNos=[1,2,3,4,5,6,7,8,9],emptycells,table=document.getElementById("table"),gAH=[],indexH=[],affcells=[],levelindex=[],level=-1,selrow,selcol,index2,pNos=[],iH=[],srH=[],scH=[],so=setOps,stop=0,t0,t1,cb=0,rs1,rs,clues,box=[[1,2,9,11,18,19],[3,4,5,12,13,14,21,22,23],[6,7,8,15,16,17,24,25,26],[27,28,29,36,37,38,45,46,47],[31,32,39,41,48,49],[33,34,35,42,43,44,51,52,53],[54,55,56,63,64,65,72,73,74],[57,58,59,66,67,68,75,76,77],[61,62,69,71,78,79]],minIs=[0,0,0,3,3,3,6,6,6],maxIs=[2,2,2,5,5,5,8,
8,8],minJs=[0,3,6,0,3,6,0,3,6],maxJs=[2,5,8,2,5,8,2,5,8];var str = "Downloaded from https://rishibawdekar.github.io/sudoku-generator-by-rishi-bawdekar at ";function Gen_Sudoku(){clues=document.getElementById("clueid").value;""==clues||17>Number(clues)||72<Number(clues)?alert("Clues must be greater than 16 and less than 73"):SolveSudoku()}
function SolveSudoku(){if(1!=stop){for(var a=[],d=[],e=[],f=0,h=[],k=Array(8),g=0;8>=g;g++)k[g]=Array(8);for(g=0;8>=g;g++)for(j=0;8>=j;j++)if(1==table.rows[g].cells[j].innerHTML.length)k[g][j]=Number(table.rows[g].cells[j].innerHTML),table.rows[g].cells[j].style.color="red",f++;else{table.rows[g].cells[j].style.color="black";var l=SearchRows(j),n=SearchCols(g),m=SearchBox(g,j),l=so.union(l,n),l=so.union(l,m),l=so.difference(allNos,l);k[g][j]=l;a.push(g);d.push(j);e.push(l);h.push(l.length)}emptycells=
81-f;Print(k);f=Array.min(h);1==f&&SolveSudoku();if(1==CheckDigits(k)||0==f){if(1==stop)return 1;0<=level&&(g=indexH[level][2],table.rows[indexH[level][0]].cells[indexH[level][1]].innerHTML==g[g.length-1]?(lia=GetLevel(level,indexH,gAH),level=lia[0],levelindex=lia[1],gAH=lia[2],selrow=lia[3],selcol=lia[4]):levelindex=indexH[level],Print(gAH[level]),g=levelindex[0],l=levelindex[1],m=levelindex[2],n=m.indexOf(levelindex[3]),m.splice(n,1),1==m.length&&(rs1=m[0]),table.rows[g].cells[l].innerHTML=rs1,
levelindex[3]=rs1);0>=level&&(level=-1,indexH=[],gAH=[],iH.splice(-1,1),srH.splice(-1,1),scH.splice(-1,1));SolveSudoku()}if(2<=f&&9>=f){if(1==stop)return 1;gAH.push(k);0>level?(index2=Math.floor(Math.random()*h.length),iH.push(index2),selrow=a[index2],selcol=d[index2],srH.push(selrow),scH.push(selcol),l=Math.floor(Math.random()*e[index2].length),indexH.push([a[index2],d[index2],e[index2],e[index2][l]]),k[a[index2]][d[index2]]=e[index2][l],table.rows[a[index2]].cells[d[index2]].innerHTML=e[index2][l]):
(a=GetFirstNoAffCells(selrow,selcol,k),0!=a&&(selrow=a[0],selcol=a[1],pNos=a[2],rs1=Math.floor(Math.random()*pNos.length),indexH.push([selrow,selcol,pNos,pNos[rs1]]),k[selrow][selcol]=pNos[rs1],table.rows[selrow].cells[selcol].innerHTML=pNos[rs1]));Print(k);level++}1!=stop&&0==GetFirstNoAffCells(selrow,selcol,k)&&0==CheckDigits(k)&&0!=emptycells&&(Print(gAH[0]),table.rows[indexH[0][0]].cells[indexH[0][1]].innerHTML=indexH[0][2],level=-1,indexH=[],gAH=[],cb=1);if(Infinity==f)return 0==stop&&(document.getElementById("timemsg").innerHTML=
"Sudoku generated.",KeepClues(clues)),stop=1;SolveSudoku()}}function GetLevel(a,d,e){d.pop();e.pop();a--;for(var f=d[a][2],f=f[f.length-1],h=d[a][3];h==f;)a--,f=d[a][2],f=f[f.length-1],h=d[a][3],d.pop(),e.pop();return[a,d[a],e,d[a][0],d[a][1]]}
function GetFirstNoAffCells(a,d,e){var f=[],h=[],k=[],g=[],l=[],n=[];if(null==a&&null==d)return 0;0<=a&&2>=a&&0<=d&&2>=d&&(mini=0,maxi=2,minj=0,maxj=2);0<=a&&2>=a&&3<=d&&5>=d&&(mini=0,maxi=2,minj=3,maxj=5);0<=a&&2>=a&&6<=d&&8>=d&&(mini=0,maxi=2,minj=6,maxj=8);3<=a&&5>=a&&0<=d&&2>=d&&(mini=3,maxi=5,minj=0,maxj=2);3<=a&&5>=a&&3<=d&&5>=d&&(mini=3,maxi=5,minj=3,maxj=5);3<=a&&5>=a&&6<=d&&8>=d&&(mini=3,maxi=5,minj=6,maxj=8);6<=a&&8>=a&&0<=d&&2>=d&&(mini=6,maxi=8,minj=0,maxj=2);6<=a&&8>=a&&3<=d&&5>=d&&(mini=
6,maxi=8,minj=3,maxj=5);6<=a&&8>=a&&6<=d&&8>=d&&(mini=6,maxi=8,minj=6,maxj=8);for(gi=mini;gi<=maxi;gi++)for(gj=minj;gj<=maxj;gj++){var m=e[gi][gj];2<=m.length&&n.push([gi,gj,m,m.length])}for(b=0;b<n.length;b++)k.push(n[b][3]);var p=Array.min(k);for(ig=0;8>=ig;ig++)m=e[a][ig],2<=m.length&&g.push([a,ig,m,m.length]);for(r=0;r<g.length;r++)f.push(g[r][3]);a=Array.min(f);for(jg=0;8>=jg;jg++)m=e[jg][d],2<=m.length&&l.push([jg,d,m,m.length]);for(c=0;c<l.length;c++)h.push(l[c][3]);d=Array.min(h);e=Array.min([p,
a,d]);if(Infinity==e)return 0;switch([p,a,d].indexOf(e)){case 0:return g=k.indexOf(p),[n[g][0],n[g][1],n[g][2]];case 1:return l=f.indexOf(a),[g[l][0],g[l][1],g[l][2]];case 2:return g=h.indexOf(d),[l[g][0],l[g][1],l[g][2]]}return 0}Array.min=function(a){return Math.min.apply(Math,a)};function SearchRows(a){var d=[];for(ii=0;8>=ii;ii++)1==table.rows[ii].cells[a].innerHTML.length&&d.push(Number(table.rows[ii].cells[a].innerHTML));return d}
function SearchCols(a){var d=[];for(jj=0;8>=jj;jj++)1==table.rows[a].cells[jj].innerHTML.length&&d.push(Number(table.rows[a].cells[jj].innerHTML));return d}
function SearchBox(a,d){var e,f,h,k,g=[];0<=a&&2>=a&&0<=d&&2>=d&&(e=0,f=2,h=0,k=2);0<=a&&2>=a&&3<=d&&5>=d&&(e=0,f=2,h=3,k=5);0<=a&&2>=a&&6<=d&&8>=d&&(e=0,f=2,h=6,k=8);3<=a&&5>=a&&0<=d&&2>=d&&(e=3,f=5,h=0,k=2);3<=a&&5>=a&&3<=d&&5>=d&&(e=3,f=5,h=3,k=5);3<=a&&5>=a&&6<=d&&8>=d&&(e=3,f=5,h=6,k=8);6<=a&&8>=a&&0<=d&&2>=d&&(e=6,f=8,h=0,k=2);6<=a&&8>=a&&3<=d&&5>=d&&(e=6,f=8,h=3,k=5);6<=a&&8>=a&&6<=d&&8>=d&&(e=6,f=8,h=6,k=8);for(bi=e;bi<=f;bi++)for(bj=h;bj<=k;bj++)1==table.rows[bi].cells[bj].innerHTML.length&&
g.push(Number(table.rows[bi].cells[bj].innerHTML));return g}function Print(a){for(pi=0;8>=pi;pi++)for(pj=0;8>=pj;pj++)table.rows[pi].cells[pj].innerHTML=a[pi][pj],table.rows[pi].cells[pj].style.color=void 0===a[pi][pj].length?"red":"black"}
function CheckDigits(a){var d=0;for(row=0;8>=row;row++){NosInRow=[];for(col=0;8>=col;col++){var e=a[row][col];void 0===e.length&&NosInRow.push(e)}1==HasDuplicate(NosInRow)&&(d=1)}for(col=0;8>=col;col++){NosInCol=[];for(row=0;8>=row;row++)e=a[row][col],void 0===e.length&&NosInCol.push(e);1==HasDuplicate(NosInCol)&&(d=1)}for(it=0;8>=it;it++)for(row=minIs[it];row<=maxIs[it];row++){NosInBox=[];for(col=minJs[it];col<=maxJs[it];col++)e=a[row][col],void 0===e.length&&NosInBox.push(e);1==HasDuplicate(NosInBox)&&
(d=1)}return d}function HasDuplicate(a){a=a.sort();var d=0;for(ai=0;ai<a.length-1;ai++)a[ai+1]==a[ai]&&(d=1);return d}
function KeepClues(a){for(di=0;9>di;di++)table.rows[di].cells[di].innerHTML="";a=81-Number(a)-9;var d=Math.floor(a/9);a%=9;for(loop=0;8>=loop;loop++){for(var e=box[loop],f=[];f.length<d;){var h=Math.floor(Math.random()*e.length);-1<f.indexOf(h)||(f[f.length]=h)}for(di=0;di<f.length;di++){var h=e[f[di]],k=h%9;table.rows[(h-k)/9].cells[k].innerHTML=""}}for(;0!=a;){d=maxIs[a-1];e=minJs[a-1];f=maxJs[a-1];h=0;for(ib=minIs[a-1];ib<=d;ib++)for(jb=e;jb<=f;jb++)1!=h&&""!=table.rows[ib].cells[jb].innerHTML&&
(table.rows[ib].cells[jb].innerHTML="",h++);a--}};function PDF_Sudoku(){tdate=new Date;var a=new jsPDF("p","mm","a4"),b=document.getElementById("table"),b=a.autoTableHtmlToJson(b);a.autoTable(b.columns,b.data,{addPageContent:function(b){a.setFontSize(40);a.setTextColor(0);a.setFontStyle("helvetica");a.text("Sudoku",84,22);a.setFontSize(8);a.text(str+tdate,b.settings.margin.left,a.internal.pageSize.height-10)},margin:{top:30}});gM=tdate.getMonth()+1;gM=10>gM?"0"+gM:gM.toString();gD=tdate.getDate();gD=10>gD?"0"+gD:gD.toString();gH=tdate.getHours();
gH=10>gH?"0"+gH:gH.toString();gMn=tdate.getMinutes();gMn=10>gMn?"0"+gMn:gMn.toString();gS=tdate.getSeconds();gS=10>gS?"0"+gS:gS.toString();gY=tdate.getFullYear().toString();date=gY+gM+gD+"_"+gH+gMn+gS;a.save(date+"_sudoku.pdf")}function Redirect(){window.open("https://rishibawdekar.github.io/sudoku-solver-by-rishi-bawdekar");}
	
</script>

<style>

  	body, select
	{
	  font-family: 'Droid Sans', serif;
      font-size: 14px;
	}
	select, input, label
	{
	  padding: 4px;
	}
	label#label1
	{
	  margin-left: 30px;
	}
	button#solveS
	{
	  display: inline-block;
	  background-color: #03a9f4;
	  color: #fff;
	  cursor: pointer;
	  font: 500 14px/20px Roboto,sans-serif;
	  height: 36px;
	  min-width: 36px;
	  outline: 0;
	  overflow: hidden;
	  padding: 8 px;
	  text-align: center;
	  text-decoration: none;
	  text-overflow: ellipsis;
	  text-transform: uppercase;
	  transition: background-color .2s,box-shadow .2s;
	  vertical-align: baseline;
	  white-space: nowrap;
	  border-radius: 0px;
	  align-items: flex-start;
	  letter-spacing: normal;
	  word-spacing: normal;
	  text-indent: 0px;
	  text-shadow: none;
	  border-spacing: 0;
	  border-collapse: collapse;
	}
	div#botleft
	{
	   margin-left: 15px;
	   width:480px;
	   float: left;
	}
	div#botRig
	{
	   margin-left: 485px;
	   margin-right: 15px;
	}
	div#eq1
	{
	  margin-left: 40%
	}
	div#eq2
	{
	  margin-left: 43%
	}
	h1#heading
	{
	  text-align: center;
	  text-transform: uppercase;
	}
	tr,td
	{
	  width: 40px;
	  padding-top: 0.5em;
	  padding-bottom: 0.5em;
	  font-size: 16px;
	}
	tr.border-bottom 
	{
      border-bottom: solid 3px red;
    }
	td.side-border
	{
	  border-left: solid 3px red;
	}
	td 
    {
      text-align: center;
      vertical-align: middle;
    }
</style>

</html>
